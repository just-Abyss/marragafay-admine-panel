{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/middleware.ts"],"sourcesContent":["import { createServerClient } from '@supabase/ssr'\r\nimport { NextResponse } from 'next/server'\r\nimport type { NextRequest } from 'next/server'\r\n\r\nexport async function middleware(req: NextRequest) {\r\n    let res = NextResponse.next({\r\n        request: {\r\n            headers: req.headers,\r\n        },\r\n    })\r\n\r\n    const supabase = createServerClient(\r\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\r\n        {\r\n            cookies: {\r\n                getAll() {\r\n                    return req.cookies.getAll()\r\n                },\r\n                setAll(cookiesToSet) {\r\n                    cookiesToSet.forEach(({ name, value, options }) => {\r\n                        req.cookies.set(name, value)\r\n                        res.cookies.set(name, value, options)\r\n                    })\r\n                },\r\n            },\r\n        }\r\n    )\r\n\r\n    // Refresh session if expired - required for Server Components\r\n    const { data: { session } } = await supabase.auth.getSession()\r\n\r\n    // Protect /dashboard routes\r\n    if (req.nextUrl.pathname.startsWith('/dashboard')) {\r\n        if (!session) {\r\n            // Redirect to login page\r\n            const redirectUrl = req.nextUrl.clone()\r\n            redirectUrl.pathname = '/'\r\n            return NextResponse.redirect(redirectUrl)\r\n        }\r\n    }\r\n\r\n    // If user is logged in and tries to access login page, redirect to dashboard\r\n    if (req.nextUrl.pathname === '/' && session) {\r\n        const redirectUrl = req.nextUrl.clone()\r\n        redirectUrl.pathname = '/dashboard'\r\n        return NextResponse.redirect(redirectUrl)\r\n    }\r\n\r\n    return res\r\n}\r\n\r\nexport const config = {\r\n    matcher: ['/', '/dashboard/:path*']\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA;AAAA;AACA;AAAA;;;AAGO,eAAe,WAAW,GAAgB;IAC7C,IAAI,MAAM,+TAAY,CAAC,IAAI,CAAC;QACxB,SAAS;YACL,SAAS,IAAI,OAAO;QACxB;IACJ;IAEA,MAAM,WAAW,IAAA,oTAAkB,sUAG/B;QACI,SAAS;YACL;gBACI,OAAO,IAAI,OAAO,CAAC,MAAM;YAC7B;YACA,QAAO,YAAY;gBACf,aAAa,OAAO,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE;oBAC1C,IAAI,OAAO,CAAC,GAAG,CAAC,MAAM;oBACtB,IAAI,OAAO,CAAC,GAAG,CAAC,MAAM,OAAO;gBACjC;YACJ;QACJ;IACJ;IAGJ,8DAA8D;IAC9D,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,UAAU;IAE5D,4BAA4B;IAC5B,IAAI,IAAI,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC,eAAe;QAC/C,IAAI,CAAC,SAAS;YACV,yBAAyB;YACzB,MAAM,cAAc,IAAI,OAAO,CAAC,KAAK;YACrC,YAAY,QAAQ,GAAG;YACvB,OAAO,+TAAY,CAAC,QAAQ,CAAC;QACjC;IACJ;IAEA,6EAA6E;IAC7E,IAAI,IAAI,OAAO,CAAC,QAAQ,KAAK,OAAO,SAAS;QACzC,MAAM,cAAc,IAAI,OAAO,CAAC,KAAK;QACrC,YAAY,QAAQ,GAAG;QACvB,OAAO,+TAAY,CAAC,QAAQ,CAAC;IACjC;IAEA,OAAO;AACX;AAEO,MAAM,SAAS;IAClB,SAAS;QAAC;QAAK;KAAoB;AACvC"}}]
}