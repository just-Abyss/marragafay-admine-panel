{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///D:/admin-dash/app/actions.ts"],"sourcesContent":["'use server'\r\n\r\nimport { Resend } from 'resend'\r\n\r\nconst resend = new Resend(process.env.RESEND_API_KEY)\r\n\r\ninterface BookingEmailData {\r\n    name: string\r\n    phone_number: string\r\n    package_title: string\r\n    date: string\r\n    guests: number\r\n    adults: number\r\n    children: number\r\n    total_price: number\r\n    status: string\r\n}\r\n\r\nexport async function sendBookingEmail(booking: BookingEmailData) {\r\n    try {\r\n        const { data, error } = await resend.emails.send({\r\n            from: 'Marragafay Bookings <onboarding@resend.dev>',\r\n            to: ['marragafay@gmail.com'],\r\n            subject: `New Booking: ${booking.name} - ${booking.package_title}`,\r\n            html: `\r\n        <div style=\"font-family: sans-serif; max-width: 600px; margin: 0 auto;\">\r\n          <h1 style=\"color: #C19B76;\">New Booking Received</h1>\r\n          <div style=\"background-color: #f9f9f9; padding: 20px; border-radius: 10px;\">\r\n            <p style=\"margin: 10px 0;\"><strong>Customer:</strong> ${booking.name}</p>\r\n            <p style=\"margin: 10px 0;\"><strong>Phone:</strong> ${booking.phone_number}</p>\r\n            <p style=\"margin: 10px 0;\"><strong>Package/Activity:</strong> ${booking.package_title}</p>\r\n            <p style=\"margin: 10px 0;\"><strong>Date:</strong> ${booking.date}</p>\r\n            <p style=\"margin: 10px 0;\"><strong>Guests:</strong> ${booking.guests} (Adults: ${booking.adults}, Children: ${booking.children})</p>\r\n            <p style=\"margin: 10px 0;\"><strong>Total Price:</strong> ${booking.total_price.toLocaleString()} MAD</p>\r\n            <p style=\"margin: 10px 0;\"><strong>Status:</strong> ${booking.status}</p>\r\n          </div>\r\n          <div style=\"margin-top: 30px; text-align: center;\">\r\n            <a href=\"${process.env.NEXT_PUBLIC_APP_URL || 'http://localhost:3000'}/dashboard/bookings\" \r\n               style=\"background-color: #C19B76; color: white; padding: 12px 24px; text-decoration: none; border-radius: 8px; font-weight: bold;\">\r\n              View in Dashboard\r\n            </a>\r\n          </div>\r\n        </div>\r\n      `\r\n        })\r\n\r\n        if (error) {\r\n            console.error('Email sending failed:', error)\r\n            return { success: false, error }\r\n        }\r\n\r\n        return { success: true, data }\r\n    } catch (e) {\r\n        console.error('Unexpected email error:', e)\r\n        return { success: false, error: e }\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;;;;AAEA,MAAM,SAAS,IAAI,kJAAM,CAAC,QAAQ,GAAG,CAAC,cAAc;AAc7C,eAAe,iBAAiB,OAAyB;IAC5D,IAAI;QACA,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,OAAO,MAAM,CAAC,IAAI,CAAC;YAC7C,MAAM;YACN,IAAI;gBAAC;aAAuB;YAC5B,SAAS,CAAC,aAAa,EAAE,QAAQ,IAAI,CAAC,GAAG,EAAE,QAAQ,aAAa,EAAE;YAClE,MAAM,CAAC;;;;kEAI+C,EAAE,QAAQ,IAAI,CAAC;+DAClB,EAAE,QAAQ,YAAY,CAAC;0EACZ,EAAE,QAAQ,aAAa,CAAC;8DACpC,EAAE,QAAQ,IAAI,CAAC;gEACb,EAAE,QAAQ,MAAM,CAAC,UAAU,EAAE,QAAQ,MAAM,CAAC,YAAY,EAAE,QAAQ,QAAQ,CAAC;qEACtE,EAAE,QAAQ,WAAW,CAAC,cAAc,GAAG;gEAC5C,EAAE,QAAQ,MAAM,CAAC;;;qBAG5D,EAAE,QAAQ,GAAG,CAAC,mBAAmB,IAAI,wBAAwB;;;;;;MAM5E,CAAC;QACC;QAEA,IAAI,OAAO;YACP,QAAQ,KAAK,CAAC,yBAAyB;YACvC,OAAO;gBAAE,SAAS;gBAAO;YAAM;QACnC;QAEA,OAAO;YAAE,SAAS;YAAM;QAAK;IACjC,EAAE,OAAO,GAAG;QACR,QAAQ,KAAK,CAAC,2BAA2B;QACzC,OAAO;YAAE,SAAS;YAAO,OAAO;QAAE;IACtC;AACJ;;;IAtCsB;;AAAA,+OAAA"}},
    {"offset": {"line": 77, "column": 0}, "map": {"version":3,"sources":["file:///D:/admin-dash/.next-internal/server/app/dashboard/bookings/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {sendBookingEmail as '4081f1dd4aa8ea82e26767a0ae58c488b12e552900'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA"}}]
}