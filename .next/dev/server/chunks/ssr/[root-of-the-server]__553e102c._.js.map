{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 14, "column": 0}, "map": {"version":3,"sources":["file:///D:/admin-dash/lib/supabase.ts"],"sourcesContent":["import { createBrowserClient } from '@supabase/ssr'\r\nimport { createClient as createSupabaseClient } from '@supabase/supabase-js'\r\n\r\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!\r\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\r\n\r\n// Legacy client for non-auth requests\r\nexport const supabase = createSupabaseClient(supabaseUrl, supabaseAnonKey)\r\n\r\n// Client for auth-enabled requests in Client Components (using @supabase/ssr)\r\nexport const createAuthClient = () =>\r\n    createBrowserClient(supabaseUrl, supabaseAnonKey)\r\n"],"names":[],"mappings":";;;;;;AAAA;AAAA;AACA;;;AAEA,MAAM;AACN,MAAM;AAGC,MAAM,WAAW,IAAA,uMAAoB,EAAC,aAAa;AAGnD,MAAM,mBAAmB,IAC5B,IAAA,iMAAmB,EAAC,aAAa"}},
    {"offset": {"line": 33, "column": 0}, "map": {"version":3,"sources":["file:///D:/admin-dash/components/bookings/bookings-view.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const BookingsView = registerClientReference(\n    function() { throw new Error(\"Attempted to call BookingsView() from the server but BookingsView is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/bookings/bookings-view.tsx <module evaluation>\",\n    \"BookingsView\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,eAAe,IAAA,wQAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,uEACA","ignoreList":[0]}},
    {"offset": {"line": 47, "column": 0}, "map": {"version":3,"sources":["file:///D:/admin-dash/components/bookings/bookings-view.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const BookingsView = registerClientReference(\n    function() { throw new Error(\"Attempted to call BookingsView() from the server but BookingsView is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/bookings/bookings-view.tsx\",\n    \"BookingsView\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,eAAe,IAAA,wQAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,mDACA","ignoreList":[0]}},
    {"offset": {"line": 61, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 69, "column": 0}, "map": {"version":3,"sources":["file:///D:/admin-dash/app/dashboard/bookings/page.tsx"],"sourcesContent":["import { supabase } from \"@/lib/supabase\"\nimport { BookingsView } from \"@/components/bookings/bookings-view\"\nimport type { Booking } from \"@/lib/types\"\n\nexport const dynamic = 'force-dynamic'\n\nexport default async function BookingsPage() {\n  const { data: bookingsData, error } = await supabase\n    .from('bookings')\n    .select('id, name, email, phone_number, package_title, date, guests, adults, children, status, total_price, notes, driver, driver_id, driver_name, pickup_location, pickup_time, payment_status, deposit_amount, amount_paid, remaining_balance, activity_type, created_at')\n    .order('date', { ascending: false })\n\n  if (error) {\n    console.error('Error fetching bookings:', error)\n  }\n\n  // Defensive Transformation Layer\n  const bookings: Booking[] = (bookingsData || []).map((row: any) => {\n    const adults = typeof row.adults === 'number' ? row.adults : 1\n    const children = typeof row.children === 'number' ? row.children : 0\n    const guests = typeof row.guests === 'number' ? row.guests : (adults + children)\n    const totalPrice = Number(row.total_price) || 0\n    const amountPaid = Number(row.amount_paid) || Number(row.deposit_amount) || 0\n\n    return {\n      id: row.id.toString(),\n      name: row.name || 'Guest', // Fallback for name\n      email: row.email || '',\n      // CRITICAL: Force string conversion for phone_number which comes as number from DB\n      phone_number: row.phone_number !== null && row.phone_number !== undefined ? String(row.phone_number) : '',\n      package_title: row.package_title || 'Standard Package',\n      status: (row.status?.toLowerCase() as any) || 'pending',\n      date: row.date || new Date().toISOString().split('T')[0],\n      guests: guests,\n      adults: adults,\n      children: children,\n      total_price: totalPrice,\n      payment_status: row.payment_status || 'unpaid',\n      amount_paid: amountPaid,\n      deposit_amount: amountPaid,\n      remaining_balance: Number(row.remaining_balance) || (totalPrice - amountPaid),\n      created_at: row.created_at || new Date().toISOString(),\n      notes: row.notes || '',\n      driver_id: row.driver_id || undefined,\n      driver_name: row.driver_name || row.driver || undefined,\n      driver: row.driver_name || row.driver || undefined,\n      pickup_time: row.pickup_time || undefined,\n      pickup_location: row.pickup_location || undefined,\n      activity_type: row.activity_type || undefined,\n    }\n  })\n\n  return <BookingsView initialBookings={bookings} />\n}\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;;;;AAGO,MAAM,UAAU;AAER,eAAe;IAC5B,MAAM,EAAE,MAAM,YAAY,EAAE,KAAK,EAAE,GAAG,MAAM,2HAAQ,CACjD,IAAI,CAAC,YACL,MAAM,CAAC,qQACP,KAAK,CAAC,QAAQ;QAAE,WAAW;IAAM;IAEpC,IAAI,OAAO;QACT,QAAQ,KAAK,CAAC,4BAA4B;IAC5C;IAEA,iCAAiC;IACjC,MAAM,WAAsB,CAAC,gBAAgB,EAAE,EAAE,GAAG,CAAC,CAAC;QACpD,MAAM,SAAS,OAAO,IAAI,MAAM,KAAK,WAAW,IAAI,MAAM,GAAG;QAC7D,MAAM,WAAW,OAAO,IAAI,QAAQ,KAAK,WAAW,IAAI,QAAQ,GAAG;QACnE,MAAM,SAAS,OAAO,IAAI,MAAM,KAAK,WAAW,IAAI,MAAM,GAAI,SAAS;QACvE,MAAM,aAAa,OAAO,IAAI,WAAW,KAAK;QAC9C,MAAM,aAAa,OAAO,IAAI,WAAW,KAAK,OAAO,IAAI,cAAc,KAAK;QAE5E,OAAO;YACL,IAAI,IAAI,EAAE,CAAC,QAAQ;YACnB,MAAM,IAAI,IAAI,IAAI;YAClB,OAAO,IAAI,KAAK,IAAI;YACpB,mFAAmF;YACnF,cAAc,IAAI,YAAY,KAAK,QAAQ,IAAI,YAAY,KAAK,YAAY,OAAO,IAAI,YAAY,IAAI;YACvG,eAAe,IAAI,aAAa,IAAI;YACpC,QAAQ,AAAC,IAAI,MAAM,EAAE,iBAAyB;YAC9C,MAAM,IAAI,IAAI,IAAI,IAAI,OAAO,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;YACxD,QAAQ;YACR,QAAQ;YACR,UAAU;YACV,aAAa;YACb,gBAAgB,IAAI,cAAc,IAAI;YACtC,aAAa;YACb,gBAAgB;YAChB,mBAAmB,OAAO,IAAI,iBAAiB,KAAM,aAAa;YAClE,YAAY,IAAI,UAAU,IAAI,IAAI,OAAO,WAAW;YACpD,OAAO,IAAI,KAAK,IAAI;YACpB,WAAW,IAAI,SAAS,IAAI;YAC5B,aAAa,IAAI,WAAW,IAAI,IAAI,MAAM,IAAI;YAC9C,QAAQ,IAAI,WAAW,IAAI,IAAI,MAAM,IAAI;YACzC,aAAa,IAAI,WAAW,IAAI;YAChC,iBAAiB,IAAI,eAAe,IAAI;YACxC,eAAe,IAAI,aAAa,IAAI;QACtC;IACF;IAEA,qBAAO,8OAAC,2JAAY;QAAC,iBAAiB;;;;;;AACxC"}}]
}